{% doc %}
  @prompt
    Create a modern FAQ section with collapsible questions and answers for a premium doors store. Each question should expand smoothly when clicked. Use elegant headings, minimal borders, and consistent typography that fits a luxury interior design brand. Add 5 sample FAQs about shipping, installation, custom sizes, returns, and warranty., add space near screen sides
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-faq-section-{{ ai_gen_id }} {
    max-width: {{ block.settings.max_width }}px;
    margin: 0 auto;
    padding: {{ block.settings.section_padding }}px {{ block.settings.horizontal_padding }}px;
    background-color: {{ block.settings.background_color }};
  }

  .ai-faq-header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: {{ block.settings.header_spacing }}px;
  }

  .ai-faq-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.title_color }};
    margin: 0 0 16px 0;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .ai-faq-subtitle-{{ ai_gen_id }} {
    font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.subtitle_color }};
    margin: 0;
    line-height: 1.6;
  }

  .ai-faq-list-{{ ai_gen_id }} {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .ai-faq-item-{{ ai_gen_id }} {
    border-bottom: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    margin-bottom: 0;
  }

  .ai-faq-item-{{ ai_gen_id }}:last-child {
    border-bottom: none;
  }

  .ai-faq-question-{{ ai_gen_id }} {
    width: 100%;
    background: none;
    border: none;
    padding: {{ block.settings.item_padding }}px 0;
    text-align: left;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: {{ block.settings.question_size }}px;
    color: {{ block.settings.question_color }};
    line-height: 1.4;
    transition: color 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .ai-faq-question-{{ ai_gen_id }}:hover {
    color: {{ block.settings.question_hover_color }};
  }

  .ai-faq-question-{{ ai_gen_id }}:focus {
    outline: 2px solid {{ block.settings.question_hover_color }};
    outline-offset: 2px;
  }

  .ai-faq-question-text-{{ ai_gen_id }} {
    flex: 1;
    margin-right: 20px;
  }

  .ai-faq-icon-{{ ai_gen_id }} {
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    transition: transform 0.3s ease;
    flex-shrink: 0;
    stroke: currentColor;
    stroke-width: 1.5;
  }

  .ai-faq-item-{{ ai_gen_id }}.active .ai-faq-icon-{{ ai_gen_id }} {
    transform: rotate(45deg);
  }

  .ai-faq-answer-{{ ai_gen_id }} {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease, padding 0.4s ease;
    padding: 0;
  }

  .ai-faq-item-{{ ai_gen_id }}.active .ai-faq-answer-{{ ai_gen_id }} {
    max-height: 500px;
    padding: 0 0 {{ block.settings.item_padding }}px 0;
  }

  .ai-faq-answer-content-{{ ai_gen_id }} {
    font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
    font-size: {{ block.settings.answer_size }}px;
    color: {{ block.settings.answer_color }};
    line-height: 1.6;
    padding-right: {{ block.settings.icon_size | plus: 20 }}px;
  }

  .ai-faq-answer-content-{{ ai_gen_id }} p {
    margin: 0 0 16px 0;
  }

  .ai-faq-answer-content-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  @media screen and (max-width: 768px) {
    .ai-faq-section-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding | times: 0.7 }}px {{ block.settings.horizontal_padding | times: 0.7 }}px;
    }

    .ai-faq-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.8 }}px;
    }

    .ai-faq-subtitle-{{ ai_gen_id }} {
      font-size: {{ block.settings.subtitle_size | times: 0.9 }}px;
    }

    .ai-faq-question-{{ ai_gen_id }} {
      font-size: {{ block.settings.question_size | times: 0.9 }}px;
      padding: {{ block.settings.item_padding | times: 0.8 }}px 0;
    }

    .ai-faq-answer-content-{{ ai_gen_id }} {
      font-size: {{ block.settings.answer_size | times: 0.9 }}px;
      padding-right: {{ block.settings.icon_size | plus: 16 }}px;
    }

    .ai-faq-item-{{ ai_gen_id }}.active .ai-faq-answer-{{ ai_gen_id }} {
      padding: 0 0 {{ block.settings.item_padding | times: 0.8 }}px 0;
    }
  }
{% endstyle %}

<faq-section-{{ ai_gen_id }} class="ai-faq-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% if block.settings.title != blank or block.settings.subtitle != blank %}
    <div class="ai-faq-header-{{ ai_gen_id }}">
      {% if block.settings.title != blank %}
        <h2 class="ai-faq-title-{{ ai_gen_id }}">{{ block.settings.title }}</h2>
      {% endif %}
      {% if block.settings.subtitle != blank %}
        <div class="ai-faq-subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</div>
      {% endif %}
    </div>
  {% endif %}

  <ul class="ai-faq-list-{{ ai_gen_id }}">
    {% if block.settings.faq_1_question != blank %}
      <li class="ai-faq-item-{{ ai_gen_id }}" data-faq-item>
        <button class="ai-faq-question-{{ ai_gen_id }}" aria-expanded="false" data-faq-button>
          <span class="ai-faq-question-text-{{ ai_gen_id }}">{{ block.settings.faq_1_question }}</span>
          <svg class="ai-faq-icon-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="ai-faq-answer-{{ ai_gen_id }}" data-faq-answer>
          <div class="ai-faq-answer-content-{{ ai_gen_id }}">{{ block.settings.faq_1_answer }}</div>
        </div>
      </li>
    {% endif %}

    {% if block.settings.faq_2_question != blank %}
      <li class="ai-faq-item-{{ ai_gen_id }}" data-faq-item>
        <button class="ai-faq-question-{{ ai_gen_id }}" aria-expanded="false" data-faq-button>
          <span class="ai-faq-question-text-{{ ai_gen_id }}">{{ block.settings.faq_2_question }}</span>
          <svg class="ai-faq-icon-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="ai-faq-answer-{{ ai_gen_id }}" data-faq-answer>
          <div class="ai-faq-answer-content-{{ ai_gen_id }}">{{ block.settings.faq_2_answer }}</div>
        </div>
      </li>
    {% endif %}

    {% if block.settings.faq_3_question != blank %}
      <li class="ai-faq-item-{{ ai_gen_id }}" data-faq-item>
        <button class="ai-faq-question-{{ ai_gen_id }}" aria-expanded="false" data-faq-button>
          <span class="ai-faq-question-text-{{ ai_gen_id }}">{{ block.settings.faq_3_question }}</span>
          <svg class="ai-faq-icon-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="ai-faq-answer-{{ ai_gen_id }}" data-faq-answer>
          <div class="ai-faq-answer-content-{{ ai_gen_id }}">{{ block.settings.faq_3_answer }}</div>
        </div>
      </li>
    {% endif %}

    {% if block.settings.faq_4_question != blank %}
      <li class="ai-faq-item-{{ ai_gen_id }}" data-faq-item>
        <button class="ai-faq-question-{{ ai_gen_id }}" aria-expanded="false" data-faq-button>
          <span class="ai-faq-question-text-{{ ai_gen_id }}">{{ block.settings.faq_4_question }}</span>
          <svg class="ai-faq-icon-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="ai-faq-answer-{{ ai_gen_id }}" data-faq-answer>
          <div class="ai-faq-answer-content-{{ ai_gen_id }}">{{ block.settings.faq_4_answer }}</div>
        </div>
      </li>
    {% endif %}

    {% if block.settings.faq_5_question != blank %}
      <li class="ai-faq-item-{{ ai_gen_id }}" data-faq-item>
        <button class="ai-faq-question-{{ ai_gen_id }}" aria-expanded="false" data-faq-button>
          <span class="ai-faq-question-text-{{ ai_gen_id }}">{{ block.settings.faq_5_question }}</span>
          <svg class="ai-faq-icon-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="ai-faq-answer-{{ ai_gen_id }}" data-faq-answer>
          <div class="ai-faq-answer-content-{{ ai_gen_id }}">{{ block.settings.faq_5_answer }}</div>
        </div>
      </li>
    {% endif %}
  </ul>
</faq-section-{{ ai_gen_id }}>

<script>
  (function() {
    class FaqSection{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
        this.faqItems = this.querySelectorAll('[data-faq-item]');
        this.setupEventListeners();
      }

      setupEventListeners() {
        this.faqItems.forEach((item) => {
          const button = item.querySelector('[data-faq-button]');
          const answer = item.querySelector('[data-faq-answer]');

          button.addEventListener('click', () => {
            const isActive = item.classList.contains('active');
            
            if (isActive) {
              this.closeFaq(item, button, answer);
            } else {
              this.openFaq(item, button, answer);
            }
          });
        });
      }

      openFaq(item, button, answer) {
        item.classList.add('active');
        button.setAttribute('aria-expanded', 'true');
        
        const content = answer.querySelector('.ai-faq-answer-content-{{ ai_gen_id }}');
        const contentHeight = content.scrollHeight;
        answer.style.maxHeight = contentHeight + 'px';
      }

      closeFaq(item, button, answer) {
        item.classList.remove('active');
        button.setAttribute('aria-expanded', 'false');
        answer.style.maxHeight = '0px';
      }
    }

    customElements.define('faq-section-{{ ai_gen_id }}', FaqSection{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "FAQ section",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Section header"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "<p>Find answers to common questions about our premium door collection and services.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 1"
    },
    {
      "type": "text",
      "id": "faq_1_question",
      "label": "Question",
      "default": "Do you offer free shipping?"
    },
    {
      "type": "richtext",
      "id": "faq_1_answer",
      "label": "Answer",
      "default": "<p>Yes, we offer free shipping on all door orders within the continental United States. For international orders, shipping costs will be calculated at checkout based on your location and the size of your order.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 2"
    },
    {
      "type": "text",
      "id": "faq_2_question",
      "label": "Question",
      "default": "Do you provide installation services?"
    },
    {
      "type": "richtext",
      "id": "faq_2_answer",
      "label": "Answer",
      "default": "<p>We work with a network of certified installation professionals in most major metropolitan areas. Our team can connect you with qualified installers who specialize in premium door installation and can ensure your door is properly fitted and finished.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 3"
    },
    {
      "type": "text",
      "id": "faq_3_question",
      "label": "Question",
      "default": "Can you create custom sizes?"
    },
    {
      "type": "richtext",
      "id": "faq_3_answer",
      "label": "Answer",
      "default": "<p>Absolutely! We specialize in custom door solutions. Our craftsmen can create doors to your exact specifications, including non-standard sizes, custom finishes, and unique design elements. Contact our design team to discuss your specific requirements.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 4"
    },
    {
      "type": "text",
      "id": "faq_4_question",
      "label": "Question",
      "default": "What is your return policy?"
    },
    {
      "type": "richtext",
      "id": "faq_4_answer",
      "label": "Answer",
      "default": "<p>We offer a 30-day return policy for standard doors in original condition. Custom doors are made to order and are non-returnable unless there is a manufacturing defect. All returns must be approved in advance and may be subject to a restocking fee.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 5"
    },
    {
      "type": "text",
      "id": "faq_5_question",
      "label": "Question",
      "default": "What warranty do you offer?"
    },
    {
      "type": "richtext",
      "id": "faq_5_answer",
      "label": "Answer",
      "default": "<p>All our doors come with a comprehensive 5-year warranty covering manufacturing defects and structural integrity. Hardware components are covered for 2 years. Our warranty does not cover normal wear and tear or damage from improper installation or maintenance.</p>"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Maximum width",
      "default": 800
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 20,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Section padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "horizontal_padding",
      "min": 20,
      "max": 80,
      "step": 10,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "header_spacing",
      "min": 20,
      "max": 80,
      "step": 10,
      "unit": "px",
      "label": "Header spacing",
      "default": 50
    },
    {
      "type": "range",
      "id": "item_padding",
      "min": 15,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Item padding",
      "default": 25
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#1c1c1c"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "question_color",
      "label": "Question color",
      "default": "#1c1c1c"
    },
    {
      "type": "color",
      "id": "question_hover_color",
      "label": "Question hover color",
      "default": "#2c4a52"
    },
    {
      "type": "color",
      "id": "answer_color",
      "label": "Answer color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e5e5e5"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "univers_next_n4"
    },
    {
      "type": "font_picker",
      "id": "text_font",
      "label": "Text font",
      "default": "montserrat_n4"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 32
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 16
    },
    {
      "type": "range",
      "id": "question_size",
      "min": 16,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Question size",
      "default": 18
    },
    {
      "type": "range",
      "id": "answer_size",
      "min": 14,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Answer size",
      "default": 15
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "border_width",
      "min": 0,
      "max": 3,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 16,
      "max": 28,
      "step": 2,
      "unit": "px",
      "label": "Icon size",
      "default": 20
    }
  ],
  "presets": [
    {
      "name": "FAQ section"
    }
  ]
}
{% endschema %}